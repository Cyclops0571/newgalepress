{"version":3,"sources":["gurus.string.js","gurus.common.js","gurus.date.js","gurus.projectcore.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gurus.js","sourcesContent":["String.prototype.replaceAll = function (target, replaced) {\n\tvar s = this;\n    /*\n    var indexOfMatch = s.indexOf(target);\n    while (indexOfMatch != -1){\n\t\ts = s.replace(target, replaced)\n\t\tindexOfMatch = s.indexOf(target);\n    }\n    */\n    //s = s.replace(/target/g, replaced)\n\ts = s.replace(new RegExp(target, 'g'), replaced);\n    return(s);\n}\n\nString.prototype.startsWith = function(str) {\n\treturn (this.match(\"^\"+str)==str);\n}\n\nString.prototype.endsWith = function(str) {\n\treturn (this.match(str+\"$\")==str);\n}\n\nString.prototype.trim = function(){\n\treturn (this.replace(/^[\\s\\xA0]+/, \"\").replace(/[\\s\\xA0]+$/, \"\"));\n}\n\nString.prototype.getDate = function (inputFormat, outputFormat) {\n    ret = \"\";\n    var yr = \"\";\n    var mn = \"\";\n    var dy = \"\";\n\n    if (inputFormat == \"dd.mm.yyyy\") {\n        \n        var arr = this.split(\".\");\n        yr = arr[2];\n        mn = arr[1];\n        dy = arr[0];\n\n        if (outputFormat == \"yyyy-mm-dd\") {\n            ret = yr + \"-\" + mn + \"-\" + dy;\n        }\n    }\n    return ret;\n}\n\nString.prototype.getValue = function (key, base64) {\n    ret = \"\";\n    base64 = (typeof base64 == \"undefined\") ? false : base64\n    var a = this.split(\"&\");\n    for (var i = 0; i < a.length; i++) {\n        var pair = a[i].split(\"=\");\n        if (pair[0] == key) {\n            var val = a[i].replaceAll(pair[0] + \"=\", \"\");\n            if (base64) {\n                //console.log(\"val = \" + val);\n                ret = $.base64Decode(val);\n                //ret = Base64.decode(val);\n                //console.log(\"ret = \" + ret);\n                //ret = val;\n            }\n            else {\n                ret = val;\n                //ret = pair[1];\n            }\n            break;\n        }\n    }\n    return ret;\n}\n\nString.prototype.toQS = function(){\n\tif(this.trim().length > 0) {\n\t\treturn \"&\" + this;\n\t}\n\treturn this;\n}\n\n\n\n\n\n\n\n\n","///////////////////////////////////////////////////////////////////////////////////////\n// COMMON FUNCTIONS\nfunction roundIt(number) {\n    var ret = number;\n    ret = Math.round(ret * 100) / 100;\n    ret = Math.round(ret * 10) / 10;\n    ret = Math.round(ret);\n    return ret;\n}\n\nfunction getQS(ji) {\n    hu = window.location.search.substring(1);\n    gy = hu.split(\"&\");\n    for (i = 0; i < gy.length; i++) {\n        ft = gy[i].split(\"=\");\n        if (ft[0] == ji) {\n            return ft[1];\n        }\n    }\n    return \"\";\n}\n\nfunction validateAlphaNumeric(s) {\n\n    for (var i = 0; i < s.length; i++) {\n        var cc = s.charAt(i).charCodeAt(0);\n\n        if ((cc > 47 && cc < 58) || (cc > 64 && cc < 91) || (cc > 96 && cc < 123)) {\n            //return true;\n        }\n        else {\n            //alert('Input is not alphanumeric');\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(window.location.search);\n    if (results == null)\n        return \"\";\n    else\n        return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nfunction checkURL(value) {\n    /*\n     var urlregex = new RegExp(\"^(http:\\/\\/www.|https:\\/\\/www.|ftp:\\/\\/www.|www.){1}([0-9A-Za-z]+\\.)\");\n     if (urlregex.test(value)) {\n     return (true);\n     }\n     return (false);\n     */\n    return true;\n}\n\nfunction isUrlReachable(url) {\n    if (checkURL(url)) {\n        var d = \"url=\" + encodeURIComponent(url);\n        //this request is send to galepress to check if the url is reacheable\n        var ret = $.ajax({\n            async: false,\n            type: \"POST\",\n            url: '/' + currentLanguage + '/' + route[\"interactivity_check\"],\n            data: d,\n            error: function (ret) {\n                alert(ret);\n            }\n        }).responseText;\n        if (ret) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction getTransform(e) {\n    var t = e.css(\"transform\");\n    return t.substr(7, t.length - 8).split(', ');\n}\n\nfunction getScale() {\n    var e = $(\"#page\");\n    var arr = getTransform(e);\n    return parseFloat(arr[0]);\n}\n\nfunction getTransformTranslateX(e) {\n    var arr = getTransform(e);\n    return parseFloat(arr[4]);\n}\n\nfunction getTransformTranslateY(e) {\n    var arr = getTransform(e);\n    return parseFloat(arr[5]);\n}\n\nfunction getWidth(e) {\n    var r = e.css(\"width\").replace(\"px\", \"\");\n    return parseFloat(r);\n}\n\nfunction getHeight(e) {\n    var r = e.css(\"height\").replace(\"px\", \"\");\n    return parseFloat(r);\n}\n\n\nfunction fixWidth(e, w) {\n    var arr = getTransform(e);\n    if (false) {\n\n    }\n\n\n    return parseFloat(arr[5]);\n}\n\nfunction fixHeight(e, h) {\n\n    var arr = getTransform(e);\n    return parseFloat(arr[5]);\n}\n\nfunction fixLeft(e, x) {\n    var eX = getTransformTranslateX(e);\n\n    return parseFloat(arr[5]);\n}\n\nfunction fixTop(e, y) {\n    var eY = getTransformTranslateY(e);\n\n    return parseFloat(arr[5]);\n}\n\nfunction isValidEmailAddress(emailAddress) {\n    var pattern = new RegExp(/^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i);\n    return pattern.test(emailAddress);\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","Date.prototype.format = function (format) {\n    var d = \"\";\n    var that = new Date();\n    var currYear = that.getFullYear().toString();\n    var currMonth = (that.getMonth() + 1).toString(); //months are zero based\n    var currDay = that.getDate().toString();\n    var currHour = that.getHours().toString();\n    var currMinute = that.getMinutes().toString();\n\n    if (currMonth.length == 1) currMonth = \"0\" + currMonth;\n    if (currDay.length == 1) currDay = \"0\" + currDay;\n    if (currHour.length == 1) currHour = \"0\" + currHour;\n    if (currMinute.length == 1) currMinute = \"0\" + currMinute;\n\n    if (format == \"dd.mm.yyyy hh:mm\") {\n        d = currDay + \".\" + currMonth + \".\" + currYear + \" \" + currHour + \":\" + currMinute;\n    }\n    else if (format == \"dd.mm.yyyy\") {\n        d = currDay + \".\" + currMonth + \".\" + currYear;\n    }\n    else if (format == \"mm.yyyy\") {\n        d = currMonth + \".\" + currYear;\n    }\n    else if (format == \"yyyy-mm-dd hh:mm\") {\n        d = currYear + \"-\" + currMonth + \"-\" + currDay + \" \" + currHour + \":\" + currMinute;\n    }\n    else if (format == \"yyyy-mm-dd\") {\n        d = currYear + \"-\" + currMonth + \"-\" + currDay;\n    }\n    else if (format == \"hh:mm\") {\n        d = currHour + \":\" + currMinute;\n    }\n    return d;\n}","/* global route, currentLanguage */\n\n$.ajaxSetup({\n    headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n    }\n})\n\n\n///////////////////////////////////////////////////////////////////////////////////////\n// USER\nvar cUser = new function () {\n    this.objectName = \"users\";\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.go2Login = function () {\n        window.location.href = \"/\";\n    };\n\n    this.loginEvent = function (evt, func) {\n        var keyCode = null;\n        if (evt.which) {\n            keyCode = evt.which;\n        } else if (evt.keyCode) {\n            keyCode = evt.keyCode;\n        }\n        if (13 == keyCode) {\n            func();\n            return false;\n        }\n        return true;\n    };\n\n    this.login = function () {\n        cNotification.hide();\n\n        var frm = $(\"form:first\");\n        var validate = cForm.validate(frm);\n        if (validate) {\n\n            cNotification.loader();\n            var d = new Date();\n            var localTime = \"&LocalTime=\" + d.getTime() / 1000;\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"login\"];\n            var data = cForm.serialize(frm) + localTime;\n\n            cUser.doAsyncRequest(t, u, data, function (ret) {\n                cNotification.success(null, ret.getValue(\"msg\"));\n                var redirectUrl = '/' + currentLanguage + '/' + route[\"home\"];\n                if ($.cookie('gobacktoshop') == 'gobacktoshop') {\n                    redirectUrl = '/' + currentLanguage + '/' + route[\"shop\"];\n                }\n\n                if (window.top != window) {\n                    window.top.location.href = redirectUrl;\n                } else {\n                    window.location.href = redirectUrl;\n                }\n            });\n\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.forgotMyPassword = function () {\n\n        cNotification.hide();\n\n        var frm = $(\"form:first\");\n        var validate = cForm.validate(frm);\n        if (validate) {\n\n            cNotification.loader();\n\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"forgotmypassword\"];\n            var d = cForm.serialize(frm);\n            cUser.doAsyncRequest(t, u, d, function (ret) {\n                cNotification.success(null, ret.getValue(\"msg\"));\n                setTimeout(function () {\n                    window.location = '/' + currentLanguage + '/' + route[\"login\"];\n                }, 1000);\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.resetMyPassword = function () {\n\n        cNotification.hide();\n\n        var frm = $(\"form:first\");\n        var validate = cForm.validate(frm);\n        if (validate) {\n\n            cNotification.loader();\n\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"resetmypassword\"];\n            var d = cForm.serialize(frm);\n            cUser.doAsyncRequest(t, u, d, function (ret) {\n                cNotification.success(null, ret.getValue(\"msg\"));\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.saveMyDetail = function () {\n\n        cNotification.hide();\n\n        var frm = $(\"form:first\");\n        var validate = cForm.validate(frm);\n        if ($(\"#Password\").val() != $(\"#Password2\").val()) {\n            validate = false;\n        }\n        if (validate) {\n\n            cNotification.loader();\n\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"mydetail\"];\n            var d = cForm.serialize(frm);\n            cUser.doAsyncRequest(t, u, d, function (ret) {\n                cNotification.success();\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.save = function () {\n        cCommon.save(\n            this.objectName,\n            function () {\n                cNotification.success();\n                window.location = '/' + currentLanguage + '/' + route[\"users\"];\n            }\n        );\n    };\n\n    this.erase = function () {\n        cCommon.erase(this.objectName);\n    };\n\n    this.sendNewPassword = function () {\n\n        cNotification.hide();\n\n        var frm = $(\"form:first\");\n        var validate = cForm.validate(frm);\n        if (validate) {\n\n            cNotification.loader();\n\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"users_send\"];\n            var d = cForm.serialize(frm);\n            cUser.doAsyncRequest(t, u, d, function (ret) {\n                cNotification.success();\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// CUSTOMER\nvar cCustomer = new function () {\n    this.objectName = \"customers\";\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.loadCustomerOptionList = function () {\n\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"customers\"];\n        var d = \"option=1\";\n        cCustomer.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#ddlCustomer\").html(ret).trigger('chosen:updated');\n        });\n    };\n\n    this.CustomerOnChange = function (obj) {\n        cReport.OnChange(obj);\n        cApplication.loadApplicationOptionList();\n    };\n\n    this.save = function () {\n        cCommon.save(this.objectName,\n            function () {\n                cNotification.success();\n                window.location = '/' + currentLanguage + '/' + route[\"customers\"];\n            }\n        );\n    };\n\n    this.erase = function () {\n        cCommon.erase(this.objectName);\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// APPLICATION\nvar cApplication = new function () {\n    this.objectName = \"applications\";\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.loadApplicationOptionList = function () {\n\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"applications\"];\n        var d = \"customerID=\" + $(\"#ddlCustomer\").val() + \"&option=1\";\n        cApplication.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#ddlApplication\").html(ret);\n            $('#ddlApplication').trigger('chosen:updated');\n        });\n    };\n\n    this.ApplicationOnChange = function (obj) {\n        cReport.OnChange(obj);\n        cContent.loadContentOptionList();\n    };\n\n    this.save = function () {\n        cCommon.save(\n            this.objectName,\n            function () {\n                cNotification.success();\n                window.location = '/' + currentLanguage + '/' + route[\"applications\"];\n            }\n        );\n    };\n\n    this.erase = function () {\n        cCommon.erase(this.objectName);\n    };\n\n    this.pushNotification = function () {\n        cNotification.hide();\n        var frm = $(\"#formPushNotification\");\n        var applicationID = parseInt($(\"[name='ApplicationID']\", frm).val());\n        var url = '/' + currentLanguage + '/' + route[\"applications_pushnotification\"];\n        url = url.replace('(:num)', applicationID);\n        var validate = cForm.validate(frm);\n        if (validate) {\n            cNotification.loader();\n            var t = 'POST';\n            var d = cForm.serialize(frm);\n            cApplication.doAsyncRequest(t, url, d, function (ret) {\n                $('#modalPushNotification').modal('hide');\n                cNotification.success();\n            });\n        }\n        else {\n            cNotification.validation();\n        }\n    };\n\n    this.saveUserSettings = function () {\n        var warningText = \"\";\n        $(\".tabActiveCheck\").each(function (index) {\n            if ($(\".inhouseUrl:eq(\" + index + \")\")[0].selectedIndex == 0 && $(\".tabActiveCheck:eq(\" + index + \")\").attr('checked') == 'checked' && $(\".targetUrlCount:eq(\" + index + \")\").val().length == 0) {\n                warningText += 'Tab ' + (index + 1) + ' ';\n            }\n        });\n\n        if (warningText != \"\") {\n            $('#dialog-tab-active-warning .modal-body').text(warningText + ': [[innerText]]');\n            $('#dialog-tab-active-warning').modal('show');\n            return;\n        }\n        else {\n            $(\".targetUrlCount\").each(function (index) {\n                if (!$(this).parent().next().hasClass('hide') && $(\".tabActiveCheck:eq(\" + index + \")\").attr('checked') == 'checked' && $(\".inhouseUrl:eq(\" + index + \")\")[0].selectedIndex == 0) {\n                    $('#dialog-tab-active-warning .modal-body').text('Tab ' + (index + 1) + ': [[innerText]]');\n                    $('#dialog-tab-active-warning').modal('show');\n                    warningText = \"not\";\n\n                }\n                else if (!$(this).val().match(/^[a-zA-Z]+:\\/\\//)) {\n                    $(this).val('http://' + $(this).val());\n                }\n            });\n        }\n\n        if (warningText == \"\") {\n            cCommon.save('application_settings',\n                function () {\n                    cNotification.success();\n                    window.location.reload();\n                    // window.location = '/' + currentLanguage + '/' + route[\"application_setting\"].replace('{application}', $('input[name=ApplicationID]').val());\n                }\n            );\n        }\n    };\n\n    this.selectedIcon = function (tabNo) {\n        $('#selectedIcon_' + tabNo).popover({\n            container: 'body',\n            html: true,\n            content: function () {\n                var clone = $($(this).data('popover-content')).clone(true).removeClass('hide');\n                return clone;\n            }\n        }).click(function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n        });\n        $('.myIconClass_' + tabNo + ' li button').click(function (e) {\n            var src = $(this).find('img').attr('src');\n            $('input[name=hiddenSelectedIcon_' + tabNo + ']').val(src);\n            $('#imgSelectedIcon_' + tabNo).attr('src', src);\n            e.preventDefault();\n            e.stopPropagation();\n        });\n        $(document).click(function (e) {\n            $('#selectedIcon_' + tabNo).popover('hide');\n            $('.popover').remove();\n        });\n    };\n\n    this.InhouseUrlChange = function (e) {\n        if (e.selectedIndex != 0) {\n            $(e).parent().closest('.form-row').next().addClass('hide').addClass('noTouchOpacity');\n            $(e).parent().closest('.form-row').next().find('input').val('');\n\n        }\n        else {\n            $(e).parent().closest('.form-row').next().removeClass('hide').removeClass('noTouchOpacity');\n        }\n    };\n    this.checkUrl = function (e) {\n        var url = $(e).parent().prev().val();\n        if (url.length === 0) {\n            $(e).parent().parent().next().addClass(\"hide\");\n            $(e).css('background-color', '#2e2e2e');\n            // $(e).closest('.form-row').next().find('.col-md-8').removeClass('noTouchOpacity');\n        } else {\n            if (!isUrlReachable(url)) {\n                $(e).css('background', '#9d0000');\n                $(e).parent().parent().next().removeClass(\"hide\");\n                // $(e).closest('.form-row').next().find('.col-md-8').addClass('noTouchOpacity');\n            } else {\n                $(e).parent().parent().next().addClass(\"hide\");\n                $(e).css('background', '#59AD2F');\n                $(e).css('color', '#fff');\n                // $(e).closest('.form-row').next().find('.col-md-8').addClass('noTouchOpacity');\n            }\n        }\n    };\n\n    this.setSelectInputActive = function () {\n        $(\".inhouseUrl\").each(function (index) {\n            if ($(this).val() != 0) {\n                $(\".targetUrlCount:eq(\" + index + \")\").closest('.form-row').addClass('hide').addClass('noTouchOpacity');\n            }\n            else {\n                $(\".targetUrlCount:eq(\" + index + \")\").closest('.form-row').removeClass('hide').removeClass('noTouchOpacity');\n            }\n        });\n    };\n\n    this.checkTabStatus = function () {\n        var obj = $(\"#TabActive\");\n        if (obj.is(':checked')) {\n            obj.closest('.form-row').nextAll().removeClass('noTouchOpacity');\n        } else {\n            obj.closest('.form-row').nextAll().addClass('noTouchOpacity');\n        }\n    };\n\n    this.checkShowDashboard = function () {\n        var obj = $(\"#ShowDashboard\");\n        if (obj.is(':checked')) {\n            obj.closest('.form-row').nextAll().removeClass('noTouchOpacity');\n        } else {\n            obj.closest('.form-row').nextAll().addClass('noTouchOpacity');\n        }\n    }\n\n    this.BannerActive = function () {\n        var obj = $(\"#BannerActive\");\n        if ($('#BannerActive').prop('checked')) {\n            obj.closest('.form-row').nextAll().removeClass('noTouchOpacity');\n        } else {\n            obj.closest('.form-row').nextAll().addClass('noTouchOpacity');\n        }\n        $('#BannerActive').change(function () {\n            var obj = $(\"#BannerActive\");\n            if ($('#BannerActive').prop('checked')) {\n                obj.closest('.form-row').nextAll().removeClass('noTouchOpacity');\n            } else {\n                obj.closest('.form-row').nextAll().addClass('noTouchOpacity');\n            }\n        });\n    };\n\n    this.BannerCustomerActive = function () {\n        var obj = $(\"#BannerCustomerActive\");\n        if (obj.is(\":checked\")) {\n            obj.closest('.form-row').nextAll().addClass('noTouchOpacity');\n            $(\"input[name='BannerCustomerUrl']\").removeClass('noTouchOpacity');\n        } else {\n            $(\"input[name='BannerCustomerUrl']\").addClass('noTouchOpacity');\n            obj.closest('.form-row').nextAll().removeClass('noTouchOpacity');\n        }\n    };\n\n    this.refreshSubscriptionIdentifier = function (AppID, SubscriptionType) {\n        cNotification.loader();\n        cAjax.doAsyncRequest(\"POST\", '/applications/refresh_identifier',\n            {\"ApplicationID\": AppID, \"SubscrioptionType\": SubscriptionType},\n            function (ret) {\n                $(\"#SubscriptionIdenfier_\" + SubscriptionType).val(ret.getValue(\"SubscriptionIdentifier\"));\n                cNotification.success();\n            },\n            undefined,\n            false);\n    };\n\n    // this.checkHoverBlock = function () {\n    //    \t$('.block:eq(1)').hover(\n    // \t  function() {\n    // \t  \t$('.screen *').css('opacity',0.80);\n    // \t  \t$('.screen .templateScreen, .screen .templateScreen .container, .screen .templateScreen .container .form-row:first').css('opacity',1);\n    // \t    $('.screen .templateScreen .ms-gallery-template,.screen .templateScreen .ms-gallery-template *').css('opacity',1);\n    // \t  }, function() {\n    // \t    $('.screen *').css('opacity',1);\n    // \t  }\n    // \t);\n    // };\n\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// CONTENT\nvar cContent;\ncContent = new function () {\n    var _self = this;\n    this.objectName = \"contents\";\n    this.doRequest = function (t, u, d, funcError) {\n        return cAjax.doSyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcError);\n    };\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.loadContentOptionList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"contents\"];\n        var d = \"applicationID=\" + $(\"#ddlApplication\").val() + \"&option=1\";\n        cContent.doAsyncRequest(t, u, d, function (ret) {\n            var ddlContent = $(\"#ddlContent\");\n            ddlContent.html(ret);\n            ddlContent.trigger('chosen:updated');\n        });\n    };\n\n    this.ContentOnChange = function (obj) {\n        cReport.OnChange(obj);\n    };\n\n    this.checkInteractivityStatus = function (contentFileID, element, text) {\n        var t = 'POST';\n        var u = '/' + currentLanguage + '/' + route['contents_interactivity_status'];\n        var d = \"contentFileID=\" + contentFileID;\n        var loopAgain = true;\n        var ajaxReq = function() {\n            $.ajax({\n                type: t,\n                url: u,\n                data: d,\n                dataType: 'json',\n                /**\n                 *\n                 * @param {{errmsg: string, success:boolean, successMsg:string }} ret\n                 */\n                success: function (ret) {\n                    if(ret.success) {\n\n                        $(element).removeClass(\"progress-striped active\")\n                        $(element).find(\".progress-bar\").text(text);\n                    } else {\n                        setTimeout(ajaxReq, 1000);\n                    }\n                },\n                error: function (ret) {\n                    cNotification.failure(ret.errmsg);\n                }\n            });\n        }\n        ajaxReq();\n    }\n\n    this.save = function () {\n        if (!$(\"#IsMaster\").is(':checked') && $(\"#IsProtected\").is(':checked')) {\n            var t = 'GET';\n            var u = '/' + currentLanguage + '/' + route[\"contents_passwords\"];\n            var d = \"contentID=\" + $(\"#ContentID\").val() + '&type=qty';\n            var ret = cContent.doRequest(t, u, d);\n            if (parseInt(ret) > 0) {\n                $(\"#Password\").removeClass(\"required\");\n            } else {\n                $(\"#Password\").addClass(\"required\");\n            }\n        }\n\n        if (!$('#CategoryID_chosen').find('ul.chosen-choices li').hasClass('search-choice')) {\n            $('#dialog-category-warning').modal('show');\n            return;\n        }\n\n        cCommon.save(\n            this.objectName,\n            function (ret) {\n                var contentID = ret.getValue(\"contentID\");\n                cNotification.success();\n                window.location.href = '/' + currentLanguage + '/' + route[_self.objectName] + '/' + contentID;\n            }\n        );\n    };\n\n    this.erase = function () {\n        cCommon.erase(this.objectName);\n    };\n\n    this.removeFromMobile = function (id) {\n        console.log(route[_self.objectName]);\n        cNotification.hide();\n        cNotification.loader();\n        var url = '/' + currentLanguage + '/contents/remove_from_mobile/' + id;\n        var d = [];\n        cCommon.doAsyncRequest('GET', url, d, function () {\n            cNotification.success();\n            var qs = cCommon.getQS(); //get query string\n            window.location = '/' + currentLanguage + '/' + route[_self.objectName] + qs;\n        });\n    };\n\n    this.openInteractiveIDE = function () {\n        cNotification.loader();\n        $('#btn_interactive').addClass('on');\n    };\n\n// Bu fonks. explorer 10 da iframe kapattığı için interactivity->html.blade body tagından kaldırıldı.\n    this.closeInteractiveIDE = function () {\n        var iframe = $(\"iframe#interactivity\");\n        if (iframe.css(\"display\") == \"block\") {\n            $(\".loader\").addClass(\"hidden\");\n            $(\"html\").css(\"overflow\", \"scroll\");\n            iframe\n                .attr(\"src\", \"\")\n                .css(\"display\", \"none\");\n\n            if (getFullscreenStatus()) {\n                exitFullscreen();\n            }\n\n            setTimeout(function () {\n                $('#btn_interactive').removeClass('on');\n            }, 2000);\n        }\n    };\n\n    this.showCategoryList = function () {\n        $(\"div.list_container\").removeClass(\"hidden\");\n        $(\"div.cta_container\").removeClass(\"hidden\");\n        $(\"div.form_container\").addClass(\"hidden\");\n        cContent.loadCategoryList();\n        $(\"#dialog-category-form\").removeClass(\"hidden\").modal('show');\n    };\n\n    this.loadCategoryList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"categories\"];\n        var d = \"appID=\" + $(\"#ApplicationID\").val();\n        cContent.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#dialog-category-form\").find('table tbody').html(ret);\n        });\n    };\n\n    this.loadCategoryOptionList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"categories\"];\n        var d = \"appID=\" + $(\"#ApplicationID\").val() + '&contentID=' + $(\"#ContentID\").val() + '&type=options';\n        cContent.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#CategoryID\").html(ret).trigger(\"chosen:updated\");\n        });\n    };\n\n    this.addNewCategory = function () {\n        var appID = $(\"#ApplicationID\").val();\n        $(\"#CategoryCategoryID\").val(\"0\");\n        $(\"#CategoryApplicationID\").val(appID);\n        $(\"#CategoryName\").val(\"\");\n        $(\"div.list_container\").addClass(\"hidden\");\n        $(\"div.cta_container\").addClass(\"hidden\");\n        $(\"div.form_container\").removeClass(\"hidden\");\n    };\n\n    this.modifyCategory = function (id) {\n        var appID = $(\"#ApplicationID\").val();\n        var name = $(\"#category\" + id + \" td:eq(0)\").html();\n        $(\"#CategoryCategoryID\").val(id);\n        $(\"#CategoryApplicationID\").val(appID);\n        $(\"#CategoryName\").val(name);\n        $(\"div.list_container\").addClass(\"hidden\");\n        $(\"div.cta_container\").addClass(\"hidden\");\n        $(\"div.form_container\").removeClass(\"hidden\");\n    };\n\n    this.deleteCategory = function (id) {\n        var t = 'POST';\n        var u = '/' + currentLanguage + '/' + route[\"categories_delete\"];\n        var d = \"CategoryID=\" + id;\n        cContent.doAsyncRequest(t, u, d, function () {\n            cContent.loadCategoryList();\n            cContent.loadCategoryOptionList();\n        });\n    };\n\n    this.saveCategory = function () {\n        cNotification.hide();\n        var frm = $(\"#dialog-category-form\").find('form:first');\n        var validate = cForm.validate(frm);\n        if (validate) {\n            cNotification.loader();\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"categories_save\"];\n            var d = cForm.serialize(frm);\n            cContent.doAsyncRequest(t, u, d, function () {\n                $(\"div.list_container\").removeClass(\"hidden\");\n                $(\"div.cta_container\").removeClass(\"hidden\");\n                $(\"div.form_container\").addClass(\"hidden\");\n                cContent.loadCategoryList();\n                cContent.loadCategoryOptionList();\n                cNotification.hide();\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    //Content password\n    this.showPasswordList = function () {\n        $(\"div.list_container\").removeClass(\"hidden\");\n        $(\"div.cta_container\").removeClass(\"hidden\");\n        $(\"div.form_container\").addClass(\"hidden\");\n        cContent.loadPasswordList();\n        $(\"#dialog-password-form\").removeClass(\"hidden\").modal('show');\n    };\n\n    this.loadPasswordList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"contents_passwords\"];\n        var d = \"contentID=\" + $(\"#ContentID\").val();\n        cContent.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#dialog-password-form\").find('table tbody').html(ret);\n        });\n    };\n\n    this.addNewPassword = function () {\n        var contentID = $(\"#ContentID\").val();\n        $(\"#ContentPasswordID\").val(\"0\");\n        $(\"#ContentPasswordContentID\").val(contentID);\n        $(\"#ContentPasswordName\").val(\"\");\n        $(\"#ContentPasswordPassword\").val(\"\");\n        $(\"#ContentPasswordQty\").val(\"1\");\n        $(\"div.list_container\").addClass(\"hidden\");\n        $(\"div.cta_container\").addClass(\"hidden\");\n        $(\"div.form_container\").removeClass(\"hidden\");\n    };\n\n    this.modifyPassword = function (id) {\n        var contentID = $(\"#ContentID\").val();\n        var name = $(\"#contentpassword\" + id + \" td:eq(0)\").html();\n        var qty = $(\"#contentpassword\" + id + \" td:eq(1)\").html();\n        $(\"#ContentPasswordID\").val(id);\n        $(\"#ContentPasswordContentID\").val(contentID);\n        $(\"#ContentPasswordName\").val(name);\n        $(\"#ContentPasswordPassword\").val(\"\");\n        $(\"#ContentPasswordQty\").val(qty);\n        $(\"div.list_container\").addClass(\"hidden\");\n        $(\"div.cta_container\").addClass(\"hidden\");\n        $(\"div.form_container\").removeClass(\"hidden\");\n    };\n\n    this.deletePassword = function (id) {\n        var t = 'POST';\n        var u = '/' + currentLanguage + '/' + route[\"contents_passwords_delete\"];\n        var d = \"ContentPasswordID=\" + id;\n        cContent.doAsyncRequest(t, u, d, function () {\n            cContent.loadPasswordList();\n        });\n    };\n\n    this.savePassword = function () {\n        cNotification.hide();\n        var frm = $(\"#dialog-password-form\").find('form:first');\n        var validate = cForm.validate(frm);\n        if (validate) {\n            cNotification.loader();\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[\"contents_passwords_save\"];\n            var d = cForm.serialize(frm);\n            cContent.doAsyncRequest(t, u, d, function () {\n                $(\"div.list_container\").removeClass(\"hidden\");\n                $(\"div.cta_container\").removeClass(\"hidden\");\n                $(\"div.form_container\").addClass(\"hidden\");\n                cContent.loadPasswordList();\n                cNotification.hide();\n            });\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.giveup = function () {\n        $(\"div.list_container\").removeClass(\"hidden\");\n        $(\"div.cta_container\").removeClass(\"hidden\");\n        $(\"div.form_container\").addClass(\"hidden\");\n    };\n\n    this.addFileUpload = function () {\n        $(\"#File\").fileupload({\n            url: '/' + currentLanguage + '/' + route[\"contents_uploadfile\"],\n            dataType: 'json',\n            sequentialUploads: true,\n            formData: {\n                'element': 'File'\n            },\n            add: function (e, data) {\n                if (/\\.(pdf)$/i.test(data.files[0].name)) {\n                    $(\"input[name='save']\").attr('disabled', 'disabled');\n                    $('#hdnFileSelected').val(\"1\");\n                    var $forFile = $(\"#FileProgress\");\n                    $forFile.removeClass(\"hide\");\n                    data.context = $forFile;\n                    data.context.find('a').click(function (e) {\n                        e.preventDefault();\n                        data = $forFile.data('data') || {};\n                        if (data.jqXHR) {\n                            data.jqXHR.abort();\n                        }\n                    });\n                    var xhr = data.submit();\n                    data.context.data('data', {jqXHR: xhr});\n                }\n            },\n            progressall: function (e, data) {\n                var progress = data.loaded / data.total * 100;\n                var $forFile = $(\"#FileProgress\");\n                $forFile.find('label').html(progress.toFixed(0) + '%');\n                $forFile.find('div.scale').css('width', progress.toFixed(0) + '%');\n            },\n            done: function (e, data) {\n                if (data.textStatus == 'success') {\n                    var fileName = data.result.fileName;\n                    var imageFile = data.result.imageFile;\n\n                    $('#hdnFileName').val(fileName);\n                    $(\"#FileProgress\").addClass(\"hide\");\n\n                    $('#hdnCoverImageFileSelected').val(\"1\");\n                    $('#hdnCoverImageFileName').val(imageFile);\n                    $('#imgPreview').attr(\"src\", \"/files/temp/\" + imageFile);\n\n                    $(\"div.rightbar\").removeClass(\"hidden\");\n\n                    //auto save\n                    if (parseInt($(\"#ContentID\").val()) > 0) {\n                        cContent.save();\n                    } else {\n                        $(\"input[name='save']\").removeAttr('disabled');\n                    }\n                }\n            },\n            fail: function () {\n                $(\"#FileProgress\").addClass(\"hide\");\n            }\n        });\n\n        //select file\n        $(\"#FileButton\").removeClass(\"hide\").click(function () {\n            $(\"#File\").click();\n        });\n    };\n\n    this.addImageUpload = function () {\n        var $CoverImageFile = $(\"#CoverImageFile\");\n        $CoverImageFile.fileupload({\n            url: '/' + currentLanguage + '/' + route[\"contents_uploadcoverimage\"],\n            dataType: 'json',\n            sequentialUploads: true,\n            formData: {\n                'element': 'CoverImageFile'\n            },\n            add: function (e, data) {\n                if (/\\.(gif|jpg|jpeg|tiff|png)$/i.test(data.files[0].name)) {\n                    $('#hdnCoverImageFileSelected').val(\"1\");\n                    var $forCoverImageFile = $(\"#CoverImageFileProgress\");\n                    $forCoverImageFile.removeClass(\"hide\");\n\n                    data.context = $forCoverImageFile;\n                    data.context.find('a').click(function (e) {\n                        e.preventDefault();\n                        data = $forCoverImageFile.data('data') || {};\n                        if (data.jqXHR) {\n                            data.jqXHR.abort();\n                        }\n                    });\n                    var xhr = data.submit();\n                    data.context.data('data', {jqXHR: xhr});\n                }\n            },\n            progressall: function (e, data) {\n                var progress = data.loaded / data.total * 100;\n                var $forCoverImageFile = $(\"#CoverImageFileProgress\");\n                $forCoverImageFile.find(\"label\").html(progress.toFixed(0) + '%');\n                $forCoverImageFile.find('div.scale').css('width', progress.toFixed(0) + '%');\n            },\n            done: function (e, data) {\n                if (data.textStatus == 'success') {\n                    //var fileName = data.result['CoverImageFile'][0].name;\n                    var fileName = data.result.fileName;\n\n                    $('#hdnCoverImageFileName').val(fileName);\n                    $('#imgPreview').attr(\"src\", \"/files/temp/\" + fileName);\n                    $(\"#CoverImageFileProgress\").addClass(\"hide\");\n\n                    //auto save\n                    if (parseInt($(\"#ContentID\").val()) > 0) {\n                        cContent.save();\n                    }\n                }\n            },\n            fail: function () {\n                $(\"#CoverImageFileProgress\").addClass(\"hide\");\n            }\n        });\n\n        //select file\n        $(\"#CoverImageFileButton\").removeClass(\"hide\").click(function () {\n            $(\"#CoverImageFile\").click();\n        });\n    };\n\n    this.copy = function () {\n        cNotification.loader();\n        setTimeout(function () {\n            var appID = $(\"#ApplicationID\").val();\n            var contentID = $(\"#ContentID\").val();\n            $.ajax({\n                async: true,\n                type: 'GET',\n                url: '/copy/' + contentID + '/' + 'new',\n                success: function (response) {\n                    // console.log(response);\n                    cNotification.success();\n                    window.location = '/' + currentLanguage + '/' + route[\"contents\"] + '?applicationID=' + appID;\n                }\n            });\n        }, 1000);\n    };\n\n    this.copyInteractivity = function () {\n        cNotification.loader();\n        setTimeout(function () {\n            var appID = $(\"#ApplicationID\").val();\n            var contentID = $(\"#ContentID\").val();\n            var targetContentID = $(\"#AppContents\").find('option:selected').val();\n            if (targetContentID != \"\") {\n                $.ajax({\n                    async: true,\n                    type: 'GET',\n                    url: '/copy/' + contentID + '/' + targetContentID,\n                    success: function (response) {\n                        // console.log(response);\n                        cNotification.success();\n                        window.location = '/' + currentLanguage + '/' + route[\"contents\"] + '?applicationID=' + appID;\n                    }\n                });\n            }\n            else {\n                $('#dialog-target-content-warning').modal('show');\n                cNotification.hide();\n            }\n        }, 1000);\n    };\n\n    this.refreshIdentifier = function (contentID) {\n        cNotification.loader();\n        cAjax.doAsyncRequest(\"POST\", '/contents/refresh_identifier',\n            {\"ContentID\": contentID},\n            function (ret) {\n                $(\"#ContentIdenfier\").val(ret.getValue(\"SubscriptionIdentifier\"));\n                cNotification.success();\n            },\n            undefined,\n            false);\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// ORDER\nvar cOrder = new function () {\n    this.objectName = \"orders\";\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.save = function () {\n\n        cCommon.save(this.objectName);\n    };\n\n    this.erase = function () {\n        cCommon.erase(this.objectName);\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// REPORT\nvar cReport = new function () {\n    this.objectName = \"reports\";\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, \"obj=\" + this.objectName + \"&\" + d, funcSuccess, funcError, true);\n    };\n\n    this.getParameters = function () {\n        var param = \"\";\n        param = param + \"&sd=\" + $(\"#start-date\").val();\n        param = param + \"&ed=\" + $(\"#end-date\").val();\n        param = param + \"&customerID=\" + $(\"#ddlCustomer\").val();\n        param = param + \"&applicationID=\" + $(\"#ddlApplication\").val();\n        param = param + \"&contentID=\" + $(\"#ddlContent\").val();\n        param = param + \"&country=\" + $(\"#ddlCountry\").val();\n        param = param + \"&city=\" + $(\"#ddlCity\").val();\n        param = param + \"&district=\" + $(\"#ddlDistrict\").val();\n        return param;\n    };\n\n    this.CountryOnChange = function (obj) {\n        cReport.loadCityOptionList();\n    };\n\n    this.CityOnChange = function (obj) {\n        cReport.loadDistrictOptionList();\n    };\n\n    this.loadCountryOptionList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"reports_location_country\"];\n        var d = \"customerID=\" + $(\"#ddlCustomer\").val() + \"&applicationID=\" + $(\"#ddlApplication\").val() + \"&contentID=\" + $(\"#ddlContent\").val();\n        cReport.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#ddlCountry\").html(ret);\n            $('#ddlCountry').change();\n            $('#ddlCountry').trigger('chosen:updated');\n        });\n    };\n\n    this.loadCityOptionList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"reports_location_city\"];\n        var d = \"customerID=\" + $(\"#ddlCustomer\").val() + \"&applicationID=\" + $(\"#ddlApplication\").val() + \"&contentID=\" + $(\"#ddlContent\").val() + \"&country=\" + $(\"#ddlCountry\").val();\n        cReport.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#ddlCity\").html(ret);\n            $('#ddlCity').change();\n            $('#ddlCity').trigger('chosen:updated');\n        });\n    };\n\n    this.loadDistrictOptionList = function () {\n        var t = 'GET';\n        var u = '/' + currentLanguage + '/' + route[\"reports_location_district\"];\n        var d = \"customerID=\" + $(\"#ddlCustomer\").val() + \"&applicationID=\" + $(\"#ddlApplication\").val() + \"&contentID=\" + $(\"#ddlContent\").val() + \"&country=\" + $(\"#ddlCountry\").val() + \"&city=\" + $(\"#ddlCity\").val();\n        cReport.doAsyncRequest(t, u, d, function (ret) {\n            $(\"#ddlDistrict\").html(ret);\n            $('#ddlDistrict').trigger('chosen:updated');\n        });\n    };\n\n    this.OnChange = function (obj) {\n        var param = this.getParameters();\n\n        $(\"a.report-button\").each(function () {\n\n            var baseAddress = $(this).attr(\"baseAddress\");\n\n            $(this).attr(\"href\", baseAddress + param);\n        });\n    };\n\n    this.refreshReport = function () {\n        var param = this.getParameters();\n        var url = \"/\" + currentLanguage + \"/\" + route[\"reports\"] + \"/\" + $(\"#report\").val() + \"?dummy=1\" + param;\n        this.setIframeUrl(url);\n        cNotification.loader();\n    };\n\n    this.downloadAsExcel = function () {\n        var param = this.getParameters();\n        window.open(\"/\" + currentLanguage + \"/\" + route[\"reports\"] + \"/\" + $(\"#report\").val() + \"?xls=1\" + param);\n    };\n\n    this.viewOnMap = function () {\n        var param = this.getParameters();\n        var url = \"/\" + currentLanguage + \"/\" + route[\"reports\"] + \"/\" + $(\"#report\").val() + \"?map=1\" + param;\n        this.setIframeUrl(url);\n    };\n\n    this.setIframeUrl = function (src) {\n        $(\"iframe\").load(function () {\n            var h = $(this).contents().find('body').height() + 30;\n            $(this).height(h);\n            cNotification.element.removeClass('statusbar-loader');\n        }).attr(\"src\", src);\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// COMMON\nvar cCommon = new function () {\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError) {\n        cAjax.doAsyncRequest(t, u, d, funcSuccess, funcError, true);\n    };\n\n    this.save = function (param, fSuccess, formID, additionalData, onlyUseAdditionalData) {\n        if (typeof fSuccess !== 'function') {\n            fSuccess = function (ret) {\n                cNotification.success();\n                var qs = cCommon.getQS(); //get query string\n            };\n        }\n\n        cNotification.hide();\n        var frm = null;\n        if (typeof formID !== 'undefined') {\n            frm = $(\"#\" + formID);\n        } else {\n            frm = $(\"form:first\");\n        }\n        var validate = cForm.validate(frm);\n        if (validate) {\n            cNotification.loader();\n\n            var t = 'POST';\n            var u = '/' + currentLanguage + '/' + route[param + \"_save\"];\n            var d = cForm.serialize(frm);\n\n            if (typeof onlyUseAdditionalData !== 'undefined') {\n                d = additionalData;\n            } else if (typeof additionalData !== 'undefined') {\n                d = d + additionalData;\n            }\n            cCommon.doAsyncRequest(t, u, d, fSuccess);\n        } else {\n            cNotification.validation();\n        }\n    };\n\n    this.erase = function (param) {\n        cNotification.hide();\n        cNotification.loader();\n\n        var frm = $(\"form:first\");\n        var t = 'POST';\n        var u = '/' + currentLanguage + '/' + route[param + \"_delete\"];\n        var d = cForm.serialize(frm);\n        cCommon.doAsyncRequest(t, u, d, function (ret) {\n            cNotification.success();\n            var qs = cCommon.getQS(); //get query string\n            window.location = '/' + currentLanguage + '/' + route[param] + qs;\n        });\n    };\n\n    this.delete = function (url, id, rowIDPrefix) {\n        cNotification.hide();\n        cNotification.loader();\n        var d = {id: id};\n        cCommon.doAsyncRequest('GET', url, d, function (ret) {\n            $(\"#\" + rowIDPrefix + id).remove();\n            cNotification.success();\n        });\n    };\n\n    this.getQS = function () {\n        var qs = \"\";\n        var customerID = \"\";\n        var applicationID = \"\";\n        var url = window.location.toString();\n\n        //kullanici ve uygulama listesinde customerID olabilir\n        if (url.indexOf(route[\"users\"]) > -1 || url.indexOf(route[\"applications\"]) > -1) {\n            customerID = getParameterByName(\"customerID\");\n            if (customerID.length > 0) {\n                qs = qs + (qs.length > 0 ? \"&\" : \"?\") + \"customerID=\" + customerID;\n            } else {\n                customerID = $(\"#CustomerID\").val();\n                if (customerID !== undefined && customerID.length > 0) {\n                    qs = qs + (qs.length > 0 ? \"&\" : \"?\") + \"customerID=\" + customerID;\n                }\n            }\n        }\n\n        //icerik listesinde applicationID olabilir\n        if (url.indexOf(route[\"contents\"]) > -1) {\n            applicationID = getParameterByName(\"applicationID\");\n            if (applicationID.length > 0) {\n                qs = qs + (qs.length > 0 ? \"&\" : \"?\") + \"applicationID=\" + applicationID;\n            } else {\n                applicationID = $(\"#ApplicationID\").val();\n                if (applicationID !== undefined && applicationID.length > 0) {\n                    qs = qs + (qs.length > 0 ? \"&\" : \"?\") + \"applicationID=\" + applicationID;\n                }\n            }\n        }\n        return qs;\n    };\n\n    this.fileUploadInit = function (uploadUrl, fsuccess) {\n        $(\"#File\").fileupload({\n            url: uploadUrl,\n            dataType: 'json',\n            sequentialUploads: true,\n            multipart: true,\n            formData: {\n                'element': 'File'\n            },\n            done: function (e, data) {\n                console.log(data);\n                if (data.textStatus.valueOf() === 'success'.valueOf()) {\n                    var result = data.result;\n                    if (data.result !== null) {\n                        if (result.status.valueOf() === 'success'.valueOf()) {\n                            fsuccess(result);\n                        } else {\n                            cNotification.validation(result.responseMsg);\n                        }\n                    } else {\n                        cNotification.failure(notification['failure']);\n                    }\n                }\n            },\n            fail: function (e, data) {\n                cNotification.failure(notification['failure']);\n            }\n        });\n\n        //select file\n        $(\"#FileButton\").click(function () {\n            $(\"#File\").click();\n        });\n    }\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// NOTIFICATION\nvar cNotification = new function () {\n    var _self = this;\n\n    this.element = null;\n\n    $(function () {\n        _self.element = $(\"#myNotification\");\n    });\n\n    this.validation = function (text, detail) {\n        text = text ? text : notification[\"validation\"];\n        this.setClass(\"statusbar-warning\");\n        this.element.find(\"div.statusbar-icon span\").removeAttr(\"class\").addClass(\"icon-warning-sign\");\n        this.hideTexts(text, detail);\n        this.show();\n    };\n\n    this.info = function (text, detail) {\n        this.setClass(\"statusbar-info\");\n        this.element.find(\"div.statusbar-icon span\").removeAttr(\"class\").addClass(\"icon-info\");\n        this.hideTexts(text, detail);\n        this.show();\n    };\n\n    this.loader = function (text, detail) {\n        text = text ? text : notification[\"loading\"];\n        this.setClass(\"statusbar-loader\");\n        this.element.find(\"div.statusbar-icon span\").removeAttr(\"class\");\n        this.hideTexts(text, detail);\n        this.show();\n\n        if (this.element.find('#galeSpinner').length == 0) {\n            this.element.prepend(\"<img src='data:image/png;base64,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' id='galeSpinner' style='position:absolute;left:10px;'>\");\n        }\n        this.element.find('#galeSpinner').removeClass();\n        this.element.find('#galeSpinner').hide();\n        this.element.find('#galeSpinner').show('scale', {percent: 100}, 600);\n\n        function animateRotate(start, end, duration, easingEffect) {\n            var object = _self.element.find('#galeSpinner');\n            $({deg: start}).animate({deg: end}, {\n                duration: duration,\n                easing: easingEffect,\n                step: function (now) {\n                    object.css({\n                        '-webkit-transform': \"rotate(\" + now + \"deg)\"\n                    }).css({\n                        '-moz-transform': \"rotate(\" + now + \"deg)\"\n                    }).css({\n                        '-ms-transform': \"rotate(\" + now + \"deg)\"\n                    }).css({\n                        'transform': \"rotate(\" + now + \"deg)\"\n                    });\n                },\n                complete: function () {\n                    if (_self.element.hasClass(\"statusbar-loader\")) {\n                        animateRotate(0, 1800, 900, 'linear');\n                    }\n                    else if (!object.hasClass('stopAnimeOne')) {\n                        animateRotate(0, 720, 1000, 'easeOutQuint');\n                        object.addClass('stopAnimeOne');\n                        if (!_self.element.hasClass(\"statusbar-danger\")) {\n                            setTimeout(function () {\n                                _self.hide(500);\n                            }, 1500);\n                        }\n                    }\n                }\n            });\n        }\n\n        animateRotate(0, 1800, 1200, 'easeInCubic');\n    };\n\n    this.success = function (text, detail) {\n        text = text ? text : notification[\"success\"];\n        this.setClass(\"statusbar-success\");\n        this.element.find(\"div.statusbar-icon span\").removeAttr(\"class\").addClass(\"icon-ok\");\n        this.hideTexts(text, detail);\n        this.show();\n    };\n\n    this.failure = function (text, detail) {\n        text = text ? text : notification[\"failure\"];\n        this.setClass(\"statusbar-danger\");\n        this.element.find(\"div.statusbar-icon span\").removeAttr(\"class\").addClass(\"icon-remove\");\n        this.hideTexts(text, detail);\n        this.show();\n    };\n\n    this.show = function () {\n        if (!(this.element.hasClass(\"statusbar-loader\") || this.element.hasClass(\"statusbar-success\") || this.element.hasClass(\"statusbar-danger\")) && this.element.find('#galeSpinner').length > 0) {\n            this.element.find(\"#galeSpinner\").remove();\n        }\n        this.hide();\n        this.element.show();\n    };\n\n    this.hide = function (v) {\n        v = v ? v : 0;\n        this.element.hide(v);\n    };\n\n    this.setClass = function (c) {\n        this.element.removeAttr(\"class\").addClass(\"statusbar\").addClass(c);\n    };\n\n    this.hideTexts = function (text, detail) {\n        text = text ? text : '';\n        detail = detail ? detail : '';\n        this.element.find(\"div.statusbar-text span.text\").html(text);\n        this.element.find(\"div.statusbar-text span.detail\").html(detail);\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// AJAX\nvar cAjax = new function () {\n    this.doSyncRequest = function (t, u, d, funcError) {\n        updatePageRequestTime();\n        if (typeof funcError === \"undefined\") {\n            funcError = function (ret) {\n                cNotification.failure(ret.getValue(\"errmsg\"));\n            };\n        }\n\n        return $.ajax({\n            async: false,\n            type: t,\n            url: u,\n            data: d,\n            error: funcError\n        }).responseText;\n    };\n\n    this.doAsyncRequestNew = function (u, t, d, funcSuccess, funcError) {\n        cNotification.hide();\n        cNotification.loader();\n        if (t === undefined) {\n            t = 'POST';\n        }\n\n        if (d === undefined) {\n            d = {};\n        }\n\n        if (funcSuccess === undefined) {\n            funcSuccess = function (ret) {\n                if (typeof ret.successMsg !== \"undefined\") {\n                    cNotification.success(ret.successMsg);\n                } else {\n                    cNotification.success();\n                }\n                setTimeout(function () {\n                    cNotification.hide()\n                }, 3000);\n            }\n        }\n        if (funcError === undefined) {\n            funcError = function (ret) {\n                if (ret.errorMsg !== undefined) {\n                    cNotification.failure(ret.errorMsg);\n                } else {\n                    cNotification.failure();\n                }\n            };\n        }\n        $.ajax({\n            type: t,\n            url: u,\n            data: d,\n            success: function (ret) {\n                var retJson = JSON.parse(ret);\n                if (t === 'GET') {\n                    funcSuccess(retJson);\n                    return;\n                }\n\n                if (retJson.success) {\n                    funcSuccess(retJson);\n                } else {\n                    funcError(retJson);\n                }\n            },\n            error: funcError\n        });\n    };\n\n    this.doAsyncRequest = function (t, u, d, funcSuccess, funcError, checkIfUserLoggedIn) {\n        updatePageRequestTime();\n\n        if (typeof funcSuccess === \"undefined\") {\n            funcSuccess = cNotification.success();\n        }\n\n        if (typeof funcError === \"undefined\") {\n            funcError = function (ret) {\n                cNotification.failure(ret.getValue(\"errmsg\"));\n            };\n        }\n        checkIfUserLoggedIn = typeof checkIfUserLoggedIn === \"undefined\";\n        $.ajax({\n            type: t,\n            url: u,\n            data: d,\n            success: function (ret) {\n                if (t === 'GET') {\n                    funcSuccess(ret);\n                    return;\n                }\n\n                if (checkIfUserLoggedIn) {\n                    if (ret.getValue(\"userLoggedIn\") == \"true\") {\n                        if (ret.getValue(\"success\") == \"true\") {\n                            funcSuccess(ret);\n                        } else {\n                            funcError(ret);\n                        }\n                        return;\n                    }\n                    cUser.go2Login();\n                } else {\n                    if (ret.getValue(\"success\") == \"true\") {\n                        funcSuccess(ret);\n                    } else {\n                        funcError(ret);\n                    }\n                }\n            },\n            error: funcError\n        });\n    };\n\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// FORM\nvar cForm = new function () {\n    this.validate = function (formObj) {\n        var ret = true;\n        formObj.each(function () {\n            $(\"div.error\", $(this)).removeClass(\"error\");\n            $(\".required\", $(this)).each(function () {\n                if (!$(this).val()) {\n                    ret = false;\n                    $(this).prev().addClass(\"error\");\n                    $(this).parent().prev().addClass(\"error\");\n                }\n            });\n        });\n        return ret;\n    };\n\n    this.serialize = function (formObj) {\n        var ret = \"\";\n        formObj.each(function () {\n            if ($(this).is(\"form\")) {\n                ret = ret + \"&\" + $(this).serialize();\n            }\n        });\n        return ret;\n    };\n};\n\n///////////////////////////////////////////////////////////////////////////////////////\n// MODALFORM\nvar modalform = new function () {\n\n    var modalForm;\n    var contentContainer;\n\n    this.show = function (c) {\n        this.modalForm = c;\n        this.contentContainer = $(\".modalformcontainer\", this.modalForm);\n        this.contentContainer.html('<div class=\"loader\"></div>');\n        this.modalForm.removeClass(\"hidden\");\n        this.reposition();\n\n        //show overlay window\n        var overlay;\n        if ($(\".ui-widget-overlay\").size() > 0) {\n            overlay = $(\".ui-widget-overlay\");\n        } else {\n            $('<div></div>')\n                .addClass('ui-widget-overlay')\n                .addClass('hidden')\n                .css(\"z-index\", \"1001\")\n                .appendTo(\"body\");\n            overlay = $(\".ui-widget-overlay\");\n        }\n\n        overlay.css(\"width\", $(document).width())\n            .css(\"height\", $(document).height())\n            .removeClass(\"hidden\");\n    };\n\n    this.reposition = function () {\n        var t = $(window).scrollTop() + (($(window).height() - this.modalForm.height()) / 2);\n        var l = ($(window).width() - this.modalForm.width()) / 2;\n        this.modalForm.css({\n            left: l + \"px\",\n            top: t + \"px\"\n        });\n    };\n\n    this.content = function (c) {\n        this.contentContainer.html(c);\n        this.reposition();\n    };\n\n    this.close = function () {\n        this.modalForm.addClass(\"hidden\");\n        $(\".ui-widget-overlay\").addClass(\"hidden\");\n    };\n};\n\nvar cGoogleMap = new function () {\n    this.objectName = \"maps\";\n    this.save = function () {\n        cCommon.save(this.objectName);\n    };\n\n    this.delete = function (id) {\n        var url = \"/maps/delete\";\n        var rowIDPrefix = \"googleMapIDSet_\";\n        cCommon.delete(url, id, rowIDPrefix);\n    }\n};\n\nvar cTemplate = new function () {\n    var background = 1;\n    var foreground = 1;\n    this.objectName = \"contents_template\";\n\n    this.save = function () {\n        var fsuccess = function (ret) {\n            cNotification.success();\n        };\n        cCommon.save(this.objectName, fsuccess, \"templateForm\");\n    };\n\n    this.loadCss = function (background, foreground) {\n        $('.app-background-templates').remove();\n        var $head = $('head');\n        switch (background) {\n            case 1:\n                $head.append('<link rel=\"stylesheet\" class=\"app-background-templates\" href=\"/css/template-chooser/background-template-dark.css\" type=\"text/css\" />');\n                break;\n            case 2:\n                $head.append('<link rel=\"stylesheet\" class=\"app-background-templates\" href=\"/css/template-chooser/background-template-light.css\" type=\"text/css\" />');\n                break;\n        }\n        $head.append('<link rel=\"stylesheet\" class=\"app-foreground-templates\" href=\"/csstemplates/' + foreground + '.css\" type=\"text/css\" />');\n    };\n\n    this.initialize = function () {\n        function openHomePage() {\n            $('#templateChooserBox .site-settings').addClass('active');\n            $('.templateScreen .footer').css('left', '0');\n            $('.templateSplashScreen').removeClass('hide').fadeTo(\"slow\", 1, function () {\n                setTimeout(function () {\n                    $('.templateSplashScreen').fadeTo(\"slow\", 0, function () {\n                        $('.templateSplashScreen').addClass(\"hide\");\n                        $('.templateScreen').removeClass('hide').fadeTo(\"slow\", 1);\n                    });\n                }, 1000);\n            });\n\n\n            $(\".footerBtnHome\").click(function () {\n                $('.templateScreen').fadeTo(\"slow\", 0, function () {\n                    $('.templateScreen').addClass('hide');\n                    $('.templateScreen').removeClass('hide').fadeTo(\"slow\", 1);\n                });\n            });\n        }\n\n        if ($('#modalTemplateChooser').length < 1) {\n            openHomePage();\n        }\n\n        $('#modalTemplateChooser').on('shown.bs.modal', function () {\n            $('.container.content-list').addClass('blurred');\n            $('#templateChooserBox').show(500);\n            openHomePage();\n        });\n\n        $('#modalTemplateChooser').on('hidden.bs.modal', function (e) {\n            $('.templateSplashScreen, .templateScreen').addClass('hide');\n            $('.container.content-list').removeClass('blurred');\n            $('#templateChooserBox').hide(500);\n            $('#templateChooserBox .site-settings').removeClass('active');\n            $('.templateExtrasScreen').addClass('hide').fadeTo(\"fast\", 0);\n            $('.templateScreen').css('margin-left', '0');\n            $('.templateScreen .footer').css('right', '0');\n        });\n\n        $('.templateExtrasScreen .title-drop').click(function () {\n            $(this).parent().parent().next().toggleClass('panelClose');\n        });\n\n        $('#templateChooserClose').click(function () {\n            $('#modalTemplateChooser').modal('hide');\n        });\n\n        $('.header-categories').click(function () {\n            if ($('.templateExtrasScreen').hasClass('hide')) {\n                $('.templateExtrasScreen').removeClass('hide').fadeTo(\"fast\", 1);\n                $('.templateScreen').css('margin-left', '75%');\n                $('.templateScreen .footer').css('left', '75%');\n            }\n            else {\n                $('.templateExtrasScreen').addClass('hide').fadeTo(\"fast\", 0);\n                $('.templateScreen').css('margin-left', '0');\n                $('.templateScreen .footer').css('left', '0');\n            }\n        });\n\n    };\n\n    this.show = function (ApplicationID, ThemeBackground, ThemeForegroundColor, Autoplay, Speed) {\n        $.ajax({\n            async: false,\n            type: 'GET',\n            url: '/template/' + ApplicationID,\n            success: function (response) {\n                $('#ipadView').html(response);\n                if ($('#imgPreview').attr('src') == \"/img/bannerSlider/defaultPreview.jpg\" || $('#imgPreview').attr('src') == \"\") {\n                    $('.my-btn-success').addClass('noTouch').css('background', 'rgba(52, 52, 52, 0)');\n                }\n                cTemplate.loadCss(parseInt(ThemeBackground), ThemeForegroundColor.replace('#', ''));\n                cTemplate.initMySlider(parseInt(+Autoplay), parseInt(Speed));\n            }\n        });\n    };\n\n    this.initMySlider = function (Autoplay, Speed) {\n        var slider = new MasterSlider();\n        slider.setup('masterslider', {\n            // width: 380,\n            height: 164,\n            space: 0,\n            view: 'fadeBasic',\n            layout: 'fillwidth',\n            fillMode: 'stretch',\n            speed: Speed,\n            autoplay: Autoplay,\n            loop: true\n        });\n        var gallery = new MSGallery('ms-gallery-1', slider);\n        gallery.setup();\n        slider.api.addEventListener(MSSliderEvent.CHANGE_START, function () {\n            $(\"#ms-gallery-1 .ms-gallery-botcont\").stop(true);\n//\t    $(\"#ms-gallery-1 .ms-gallery-botcont\").animate({opacity: 0.7}, 750);\n        });\n        slider.api.addEventListener(MSSliderEvent.CHANGE_END, function () {\n            $(\"#ms-gallery-1 .ms-gallery-botcont\").delay(2500).animate({opacity: 0}, 2500);\n        });\n        $('#ms-gallery-1').click(function () {\n            $(\"#ms-gallery-1 .ms-gallery-botcont\").stop(true);\n            if ($(\"#ms-gallery-1 .ms-gallery-botcont\").css('opacity') > 0) {\n                $(\"#ms-gallery-1 .ms-gallery-botcont\").animate({opacity: 0}, 250);\n            }\n            else {\n//\t\t$(\"#ms-gallery-1 .ms-gallery-botcont\").animate({opacity: 0.7}, 250);\n            }\n        });\n        var slider2 = new MasterSlider();\n        slider2.setup('masterslider2', {\n            width: 277,\n            height: 120,\n            space: 0,\n            view: 'fadeBasic',\n            layout: 'partialview',\n            fillMode: 'stretch',\n            speed: Speed,\n            autoplay: Autoplay\n        });\n        var gallery2 = new MSGallery('ms-gallery-2', slider2);\n        gallery2.setup();\n        slider2.api.addEventListener(MSSliderEvent.CHANGE_START, function () {\n            $(\"#ms-gallery-2 .ms-gallery-botcont\").stop(true);\n//\t    $(\"#ms-gallery-2 .ms-gallery-botcont\").animate({opacity: 0.7}, 750);\n        });\n        slider2.api.addEventListener(MSSliderEvent.CHANGE_END, function () {\n            $(\"#ms-gallery-2 .ms-gallery-botcont\").delay(2500).animate({opacity: 0}, 2500);\n        });\n        $('#ms-gallery-2').click(function () {\n            $(\"#ms-gallery-2 .ms-gallery-botcont\").stop(true);\n            if ($(\"#ms-gallery-2 .ms-gallery-botcont\").css('opacity') > 0) {\n                $(\"#ms-gallery-2 .ms-gallery-botcont\").animate({opacity: 0}, 250);\n            }\n            else {\n//\t\t$(\"#ms-gallery-2 .ms-gallery-botcont\").animate({opacity: 0.7}, 250);\n            }\n        });\n        $(\".ms-info\").each(function () {\n            if ($(this).text().length > 50) {\n                var infoText = $(this).text();\n                infoText = infoText.substring(0, 50);\n                $(this).text(infoText + \"...\");\n            }\n        });\n    };\n\n};\n\n\nvar cBanner = new function () {\n    var _self = this;\n    this.objectName = \"banners\";\n\n    this.addImageUpload = function () {\n\n        $(\"#ImageFile\").fileupload({\n            url: '/' + currentLanguage + '/common/imageupload',\n            dataType: 'json',\n            sequentialUploads: true,\n            formData: {\n                'element': 'ImageFile'\n            },\n            add: function (e, data) {\n                if (/\\.(gif|jpg|jpeg|tiff|png)$/i.test(data.files[0].name)) {\n                    $('#hdnImageFileSelected').val(\"1\");\n                    $(\"[for='ImageFile']\").removeClass(\"hide\");\n\n                    data.context = $(\"[for='ImageFile']\");\n                    data.context.find('a').click(function (e) {\n                        e.preventDefault();\n                        var template = $(\"[for='ImageFile']\");\n                        data = template.data('data') || {};\n                        if (data.jqXHR) {\n                            data.jqXHR.abort();\n                        }\n                    });\n                    var xhr = data.submit();\n                    data.context.data('data', {jqXHR: xhr});\n                }\n            },\n            progressall: function (e, data) {\n                var progress = data.loaded / data.total * 100;\n\n                $(\"[for='ImageFile'] label\").html(progress.toFixed(0) + '%');\n                $(\"[for='ImageFile'] div.scale\").css('width', progress.toFixed(0) + '%');\n            },\n            done: function (e, data) {\n                if (data.textStatus == 'success') {\n                    var fileName = data.result.fileName;\n                    var $myButtonSuccess = $('.my-btn-success');\n                    $('#hdnImageFileName').val(fileName);\n                    $('#imgPreview').attr(\"src\", \"/files/temp/\" + fileName);\n                    $(\"[for='ImageFile']\").addClass(\"hide\");\n\n                    //auto save\n                    if (parseInt($(\"#ContentID\").val()) > 0) {\n                        cContent.save();\n                    }\n\n                    $myButtonSuccess.removeClass(\"noTouch\").css('background', '');\n\n                    var url = $('#TargetUrl').val();\n                    if (url.length > 0 && !isUrlReachable(url)) {\n                        $(\".input-group + span.urlError\").removeClass(\"hide\");\n                        $myButtonSuccess.addClass('noTouch').css('background', 'rgba(52, 52, 52, 0)');\n                    }\n                }\n            },\n            fail: function () {\n                $(\"[for='ImageFile']\").addClass(\"hide\");\n            }\n        });\n\n        //select file\n        $(\"#ImageFileButton\").removeClass(\"hide\").click(function () {\n            $(\"#ImageFile\").click();\n        });\n    };\n\n    this.checkUrl = function () {\n        var url = $('#TargetUrl').val();\n        var $checkUrl = $('#checkUrl');\n        $checkUrl.css('background-color', '#2e2e2e');\n        $(\".input-group + span.urlError\").addClass(\"hide\");\n        if (url.length > 0 && !isUrlReachable(url)) {\n            $(\".input-group + span.urlError\").removeClass(\"hide\");\n            $('.my-btn-success').addClass('noTouch').css('background', 'rgba(52, 52, 52, 0)');\n        }\n        else if (isUrlReachable(url)) {\n            $('.my-btn-success').removeClass(\"noTouch\").css('background', '');\n            $checkUrl.css('background-color', '#59AD2F !important;');\n            $checkUrl.css('color', '#fff');\n        }\n        else if (url.length == 0) {\n            $('.my-btn-success').removeClass(\"noTouch\").css('background', '');\n        }\n\n        if ($('#imgPreview').attr('src') == '/img/bannerSlider/defaultPreview.jpg') {\n            $('.my-btn-success').addClass('noTouch').css('background', 'rgba(52, 52, 52, 0)');\n        }\n    };\n\n    this.settingSave = function () {\n        cCommon.save('banners_setting', undefined, 'bannerForm');\n    };\n\n    this.createNewBanner = function (applicationID) {\n        /* global appID */\n        cCommon.save(\n            this.objectName,\n            function (ret) {\n                cNotification.success();\n                var BannerID = ret.getValue('BannerID');\n                var BannerImagePath = ret.getValue('BannerImagePath');\n                var ActiveText = ret.getValue('ActiveText');\n                var PassiveText = ret.getValue('PassiveText');\n                var htmlRow =\n                    '<tr id=\"bannerIDSet_' + BannerID + '\" class=\"odd\" style=\"background-color: #7f8c8d\">'\n                    + '<td style=\"cursor:pointer;\"><span class=\"icon-resize-vertical list-draggable-icon\"></span></td><td>'\n                    + '<img id=\"bannerImage_' + BannerID + '\" src=\"' + BannerImagePath + '\" width=\"60px\" height=\"30px\" style=\"cursor: pointer\" onclick=\"fileUpload(this)\">'\n                    + '<div id=\"uploadProgress_' + BannerID + '\" class=\"myProgress hide\">'\n                    + '<a href=\"#\" class=\"editable editable-click\">İptal <i class=\"icon-remove\"></i></a>'\n                    + '<label for=\"scale\"></label>'\n                    + '<div class=\"scrollbox dot\">'\n                    + '<div class=\"scale\" style=\"width: 0\"></div>'\n                    + '</div></div></td>' +\n                    '<td>'\n                    + '<a href=\"#\" id=\"' + BannerID + '\" data-name=\"TargetUrl\" data-type=\"text\" data-pk=\"' + BannerID + '\" data-title=\"Target Url:\"></a>'\n                    + '</td>' +\n                    '<td>' +\n                    '<a href=\"#\" id=\"description_' + BannerID + '\"data-name=\"Description\" data-type=\"text\" data-pk=\"' + BannerID + '\"data-title=\"Text\"></a>' +\n                    '</td>' +\n                    '<td><div class=\"toggle_div\">'\n                    + '<input type=\"checkbox\" title=\"BannerStatus\" class=\"toggleCheckbox\" style=\"color: white\" id=\"BannerStatus_' + BannerID + '\" />'\n                    + '</div></td><td>' + BannerID + '</td>'\n                    + '<td style=\"alignment-adjust: middle\"><div style=\"padding-top: 8px;\">'\n                    + '<span style=\" cursor: pointer; font-size: 30px;\" class=\"icon-remove-sign\" onclick=\"cBanner.delete(' + BannerID + ');\"></span></div></td></tr>'\n                var DataTable = $('#DataTables_Table_1');\n                DataTable.find('tbody').prepend(htmlRow);\n                DataTable.find('tbody a').editable({\n                    emptytext: '. . . . .',\n                    url: route['banners_save'],\n                    params: {'applicationID': appID},\n                    ajaxOptions: {\n                        beforeSend: function () {\n                            cNotification.loader();\n                        }\n                    },\n                    success: function () {\n                        cNotification.success();\n                        setTimeout(function () {\n                            cNotification.hide();\n                        }, 1000);\n                    }\n                });\n\n                $('#BannerStatus_' + BannerID).bootstrapToggle({\n                    size: 'mini',\n                    on: ActiveText,\n                    off: PassiveText,\n                    offstyle: 'danger',\n                    onstyle: 'info',\n                    style: 'ios'\n                });\n            },\n            undefined,\n            \"&newBanner=1\"\n        );\n    };\n\n    this.delete = function (id) {\n        var url = \"/banners/delete\";\n        var rowIDPrefix = \"bannerIDSet_\";\n        cCommon.delete(url, id, rowIDPrefix);\n    };\n\n    //this.saveFromList = function (id) {\n    //\n    //};\n\n    // this.targetContent = function () {\n    //  var selectedIndex = $('#TargetContent option:selected').index();\n    //  console.log(selectedIndex);\n    //  if(selectedIndex==0){\n    //  \t$('#TargetUrl, #TargetUrl + *').removeClass('noTouch').css('opacity',1);\n    //  }\n    //  else {\n    //  \t$('#TargetUrl, #TargetUrl + *').addClass('noTouch').css('opacity',0.5);\n    //  }\n    // };\n};\n\n"]}